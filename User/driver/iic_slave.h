/******************************************************************************
*  Name: iic_slave.h
*  Description:
*  Project: 
*  Auther:
*  MCU: atmel samc21n18a
*  Comment:
******************************************************************************/
#ifndef IIC_SLAVE_H
#define IIC_SLAVE_H
#include <stdint.h>
#include "../../Device/samc21n18a.h"
/**********************************************************************************************
* External objects
**********************************************************************************************/

/**********************************************************************************************
* Global variables
**********************************************************************************************/

/**********************************************************************************************
* Constants and macros
**********************************************************************************************/
#define ERROR_FLAG  (1 << 7)
#define DRDY_FLAG   (1 << 2)
#define AMATCH_FLAG (1 << 1)
#define PREC_FLAG   (1 << 0)

#define DIR_STATUS  (1 << 3)
#define ACK_STATUS  (1 << 2)
/**********************************************************************************************
* Local types
**********************************************************************************************/
#define SLAVE_ID           1
#define CTP_I2C            SERCOM1
#define CTP_SDA            GPIO(GPIO_PORTA, 16)     
#define CTP_SCL            GPIO(GPIO_PORTA, 17)
/**********************************************************************************************
* Local variables
**********************************************************************************************/
typedef void (*IIC_Slave_Callback)(uint16_t, uint8_t);		/*!< I2C call back function */
/**********************************************************************************************
* Local functions
**********************************************************************************************/

/**********************************************************************************************
* Global functions
**********************************************************************************************/
extern void IIC_Slave_Init(Sercom *pSercom, uint8_t sercom_id);
extern void IIC_Slave_DeInit(Sercom *pSercom, uint8_t sercom_id);
extern void IIC_Slave_WriteOneByte(Sercom *pSercom,uint8_t Data);
extern void IIC_Slave_ReadOneByte(Sercom *pSercom,uint8_t *pData);
extern void IIC_Slave_SetCallBack(IIC_Slave_Callback pCallBack);


#endif /* IIC_SLAVE_H */

