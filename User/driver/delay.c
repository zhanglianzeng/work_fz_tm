/******************************************************************************
*  Name: delay.c
*  Description:
*  Project: Wave2
*  Auther: 
*  MCU: atmel samc21n18a
*  Comment:
******************************************************************************/
#include "../../Device/samc21n18a.h"
#include "delay.h"
/**********************************************************************************************
* External objects
**********************************************************************************************/

/**********************************************************************************************
* Global variables
**********************************************************************************************/

/**********************************************************************************************
* Constants and macros
**********************************************************************************************/

/**********************************************************************************************
* Local types
**********************************************************************************************/

/**********************************************************************************************
* Local variables
**********************************************************************************************/

/**********************************************************************************************
* Local functions
**********************************************************************************************/

/**********************************************************************************************
* Global functions
**********************************************************************************************/

/*=====================================================================================================================
* Upward trac.:        DRIVER/delay
* Method      :        Delay_Us(uint16_t us)
* Visibility  :        public
* Description :        
* Parameters  :
* ---------------------------------------------------------------------------------------------------------------------
*     Type      | Name(Direction) |                                      Description
* ---------------------------------------------------------------------------------------------------------------------
* Status_Ref  | Status   | Status reference
* ---------------------------------------------------------------------------------------------------------------------
* Return type :   
* ===================================================================================================================*/
void Delay_Us(uint16_t us)
{
    SysTick->CTRL = 0x00;
    SysTick->LOAD = (us * 48 - 1);
    SysTick->VAL = 0;
    SysTick->CTRL = 0x05;
    while(!((SysTick->CTRL >> 16) & 0x01));
}

/*=====================================================================================================================
* Upward trac.:        DRIVER/delay
* Method      :        Delay_Ms(uint16_t ms)
* Visibility  :        public
* Description :        
* Parameters  :
* ---------------------------------------------------------------------------------------------------------------------
*     Type      | Name(Direction) |                                      Description
* ---------------------------------------------------------------------------------------------------------------------
* Status_Ref  | Status   | Status reference
* ---------------------------------------------------------------------------------------------------------------------
* Return type :   
* ===================================================================================================================*/
void Delay_Ms(uint16_t ms)
{
    uint16_t i;
    for(i = 0; i < ms; i++)
    {
        SysTick->CTRL = 0x00;
        SysTick->LOAD = (47999);
        SysTick->VAL = 0;
        SysTick->CTRL = 0x05;
        while(!((SysTick->CTRL >> 16) & 0x01));
    }
}

